<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ¶ å¦™éº—æ­²æ•¸è¨ˆç®—æ©Ÿ</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        "Noto Sans TC", sans-serif;
    }

    body {
      margin: 0;
      background: #f5f5f7;
      display: flex;
      justify-content: center;
      padding: 40px 16px;
    }

    .card {
      background: #ffffff;
      border-radius: 12px;
      padding: 24px 24px 28px;
      max-width: 420px;
      width: 100%;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
    }

    .card h1 {
      font-size: 22px;
      margin: 0 0 20px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    label {
      font-size: 14px;
      display: block;
      margin-bottom: 6px;
    }

    input[type="date"],
    select {
      width: 100%;
      padding: 8px 10px;
      font-size: 14px;
      border-radius: 6px;
      border: 1px solid #ccc;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    input[type="date"]:focus,
    select:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
    }

    .field {
      margin-bottom: 16px;
    }

    button {
      margin-top: 4px;
      padding: 8px 20px;
      border-radius: 6px;
      border: 1px solid #2563eb;
      background: #2563eb;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.15s, transform 0.05s, box-shadow 0.15s;
    }

    button:hover {
      background: #1d4ed8;
      box-shadow: 0 4px 10px rgba(37, 99, 235, 0.35);
    }

    button:active {
      transform: translateY(1px);
      box-shadow: none;
    }

    .result-box {
      margin-top: 18px;
      padding: 14px 16px;
      border-radius: 8px;
      background: #f3f4f6;
      font-size: 14px;
      line-height: 1.6;
    }

    .result-box strong {
      font-weight: 700;
    }

    .hint {
      margin-top: 8px;
      font-size: 12px;
      color: #6b7280;
    }
  </style>
</head>
<body background="å¦™éº—.png">
  <div class="card">
    <h1>ğŸ¶ å¦™éº—æ­²æ•¸è¨ˆç®—æ©Ÿ</h1>

    <div class="field">
      <label for="birthDate">ç‹—ç‹—çš„å‡ºç”Ÿæ—¥æœŸï¼š</label>
      <input id="birthDate" type="date" />
    </div>

    <div class="field">
      <label for="size">ç‹—ç‹—é«”å‹ï¼š</label>
      <select id="size">
        <option value="small">å°å‹çŠ¬</option>
        <option value="medium">ä¸­å‹çŠ¬</option>
        <option value="large">å¤§å‹çŠ¬</option>
      </select>
    </div>

    <button id="calcBtn">é–‹å§‹è¨ˆç®—</button>

    <div id="result" class="result-box" style="display:none;"></div>

    <div class="hint">
      â€» äººé¡å¹´é½¡æ›ç®—ä¾ç…§ç¾åœ‹çŠ¬æ¥­ä¿±æ¨‚éƒ¨æä¾›çš„çŠ¬é½¡å°ç…§è¡¨ï¼Œ<br />
      ä»¥ç·šæ€§æ’å€¼ä¼°ç®—å‡ºå°æ•¸é»å¾Œçš„å¹´é½¡ã€‚
    </div>
  </div>

  <script>
    // çŠ¬å¹´é½¡å°ç…§è¡¨ï¼ˆå–®ä½ï¼šäººé¡æ­²æ•¸ï¼‰
    // å¹´é½¡ç‚ºæ•´æ­²ç‹—å¹´ï¼Œå°æ•¸æœƒåœ¨ç¨‹å¼ä¸­åšæ’å€¼è¨ˆç®—
    const dogAgeTable = [
      { age: 1, small: 15, medium: 15, large: 15 },
      { age: 2, small: 24, medium: 24, large: 24 },
      { age: 3, small: 28, medium: 28, large: 28 },
      { age: 4, small: 32, medium: 32, large: 32 },
      { age: 5, small: 36, medium: 36, large: 36 },
      { age: 6, small: 40, medium: 42, large: 45 },
      { age: 7, small: 44, medium: 47, large: 50 },
      { age: 8, small: 48, medium: 51, large: 55 },
      { age: 9, small: 52, medium: 56, large: 61 },
      { age: 10, small: 56, medium: 60, large: 66 },
      { age: 11, small: 60, medium: 65, large: 72 },
      { age: 12, small: 64, medium: 69, large: 77 },
      { age: 13, small: 68, medium: 74, large: 82 },
      { age: 14, small: 72, medium: 78, large: 88 },
      { age: 15, small: 76, medium: 83, large: 93 },
      { age: 16, small: 80, medium: 87, large: 120 }
    ];

    const birthInput = document.getElementById("birthDate");
    const sizeSelect = document.getElementById("size");
    const resultBox = document.getElementById("result");
    const calcBtn = document.getElementById("calcBtn");

    // æŒ‰éˆ•é»æ“Šäº‹ä»¶
    calcBtn.addEventListener("click", function () {
      const birthValue = birthInput.value;
      if (!birthValue) {
        alert("è«‹å…ˆé¸æ“‡ç‹—ç‹—çš„å‡ºç”Ÿæ—¥æœŸï¼");
        return;
      }

      const birthDate = new Date(birthValue);
      const now = new Date();

      if (birthDate > now) {
        alert("å‡ºç”Ÿæ—¥æœŸä¸èƒ½æ™šæ–¼ä»Šå¤©å“¦ï¼");
        return;
      }

      const dogYears = getDogAgeInYears(birthDate, now);
      const sizeKey = sizeSelect.value; // small / medium / large
      const humanYears = convertToHumanYears(dogYears, sizeKey);

      const dogYearsDisplay = dogYears.toFixed(1);
      const humanYearsDisplay = humanYears.toFixed(1);

      resultBox.style.display = "block";
      resultBox.innerHTML =
        `ç‹—ç‹—ç¾åœ¨å¤§ç´„ <strong>${dogYearsDisplay}</strong> æ­²ç‹—ç‹—å¹´é½¡ï¼Œ` +
        `æ›ç®—æˆäººé¡å¹´é½¡å¤§ç´„æ˜¯ <strong>${humanYearsDisplay}</strong> æ­²ã€‚`;
    });

    // è¨ˆç®—ç‹—ç‹—å¯¦éš›å¹´é½¡ï¼ˆç‹—å¹´ï¼‰
    function getDogAgeInYears(birthDate, now) {
      const diffMs = now.getTime() - birthDate.getTime();
      const years = diffMs / (1000 * 60 * 60 * 24 * 365.25); // ä»¥ 365.25 å¤©åšæ›ç®—
      return years;
    }

    // ä¾ç…§çŠ¬å¹´é½¡å°ç…§è¡¨ï¼Œå°‡ç‹—å¹´æ›æˆäººé¡å¹´é½¡
    function convertToHumanYears(dogYears, sizeKey) {
      const table = dogAgeTable;

      // å°æ–¼ 1 æ­²ï¼š0 ~ 1 æ­²ä¹‹é–“åšæ¯”ä¾‹
      if (dogYears <= table[0].age) {
        const ratio = dogYears / table[0].age;
        return ratio * table[0][sizeKey];
      }

      const maxAge = table[table.length - 1].age;

      // å¤§æ–¼æœ€å¤§è¡¨æ ¼å¹´é½¡æ™‚ï¼Œé€™è£¡ç°¡åŒ–ç‚ºã€Œä»¥ 16 æ­²çš„æ•¸å€¼ç‚ºä¸Šé™ã€
      if (dogYears >= maxAge) {
        return table[table.length - 1][sizeKey];
      }

      // 1 ~ 16 æ­²ä¹‹é–“ï¼šæ‰¾å‡ºå‰å¾Œå…©å€‹æ•´æ­²å€é–“åšç·šæ€§æ’å€¼
      for (let i = 1; i < table.length; i++) {
        const lower = table[i - 1];
        const upper = table[i];

        if (dogYears <= upper.age) {
          const ratio =
            (dogYears - lower.age) / (upper.age - lower.age); // 0~1 ä¹‹é–“
          const lowerHuman = lower[sizeKey];
          const upperHuman = upper[sizeKey];
          return lowerHuman + ratio * (upperHuman - lowerHuman);
        }
      }

      // ç†è«–ä¸Šä¸æœƒèµ°åˆ°é€™è£¡ï¼Œä¿åº•å›å‚³æœ€å¤§å€¼
      return table[table.length - 1][sizeKey];
    }
  </script>
</body>
</html>
